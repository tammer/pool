{% extends "pool/base.html" %}
{% block content %}

<script>
function reverse() {
	const inputs = document.querySelectorAll(".team");
	for (var i = 0; i < inputs.length; i+=2) {
		if( !inputs[i].disabled ){
			inputs[i].checked = !inputs[i].checked;
			inputs[i+1].checked = !inputs[i].checked;
		}
	}
return;
}

function random() {
	const inputs = document.querySelectorAll(".team");
	for (var i = 0; i < inputs.length; i+=2) {
		if( !inputs[i].disabled ){
			if( Math.random() < 0.5){
				inputs[i].checked = false;
			}else{
				inputs[i].checked = true;
			}
			inputs[i+1].checked = !inputs[i].checked;
		}
	}
}

function dogs(){
	const inputs = document.querySelectorAll(".team");
	for (var i = 0; i < inputs.length; i+=2) {
		if( !inputs[i].disabled ){
			inputs[i].checked = false;
			inputs[i+1].checked = !inputs[i].checked;
		}
	}
}

function favs(){
	dogs();
	reverse();
}

</script>


<!-- https://codepen.io/JiveDig/pen/jbdJXR -->

<style type="text/css">
	.switch-field {
		margin-bottom: 0px;
	}

	.switch-field input {
		position: absolute !important;
		clip: rect(0, 0, 0, 0);
		height: 1px;
		width: 1px;
		border: 0;
		overflow: hidden;
	}

	.switch-field label {
		background-color: white;
		text-align: right
		color: rgba(0, 0, 0, 0.6);
		line-height: 1;
		padding: 2px 2px;
		margin-right: -1px;
		margin-bottom: 0px;
		border: 0px solid rgba(0, 0, 0, 0.2);
		transition: all 0.1s ease-in-out;
	}

	.switch-field label:hover {
		cursor: pointer;
	}

	.switch-field input:checked + label {
		background-color: #FBFFB7;
		box-shadow: none;
	}

	.switch-field label:first-of-type {
		border-radius: 4px 0 0 4px;
	}

	.switch-field label:last-of-type {
		border-radius: 0 4px 4px 0;
	}
</style>




	<main role="main" class="container">

		<div class="row">
			<div class="col-sm">
      			<h2>
      				Week {{week_number}}
      			</h2>
      			<p class='text-muted'>{{now}}</p>
      			<p class='text-muted'>HOME TEAM in caps.  Good luck {{player}}.</p>
      			<br>
		    </div>
		</div>





		<div class="row">
			<div class="col-5">
				<form action="{%url 'pool-postpicks'%}" method="post">
				    {% csrf_token %}
				    {{ formset.management_form }}
				    <table class='table table-sm' style="background-color: white">
				    	<tr class="thead-light text-center">
				    		<th></th>
				    		<th class='text-left'>Time</th>
				    		<th class='text-left'>Favourite</th>
				    		<th>Spread</th>
				    		<th class='text-right'>Underdog</th>
				    	</tr>
				    {% for form in formset %}
				    	{{ form }}
				    {%endfor%}
				    <tr>
				    	<th></th>
				    	<style type="text/css">
				    		p {padding:0;margin:0;border:0;margin-bottom:-0.2em;}
				    	</style>
				    	<td colspan=4 class='text-right'>{{monday_form.as_p}}</td>
				    </tr>
					</table>
				    <div class='text-right'><input {{disabled}} class='btn btn-primary' type="submit" value="Submit"></div>
				</form>
			</div>
			<div class="col">
				<a title='Always bet on the better team' onclick="favs()" class="btn btn-success" href="#" role="button">All Favs</a>
				<a title="Take the points! On average, you'll win" onclick="dogs()" class="btn btn-success" href="#" role="button">All Dogs</a>
				<a title='This action could save your ass this week' onclick="reverse()" class="btn btn-info" href="#" role="button">Reverse</a>
				<a title='Risky' onclick="reverse();setTimeout(reverse, 400);" class="btn btn-danger" href="#" role="button">Double Reverse</a>
				<a title='Most players lose to The Monkey. You can put him to work.' onclick="random()" class="btn btn-warning" href="#" role="button">Monkey AI</a>
			</div>
		</div>
	</main>

{% endblock content %}